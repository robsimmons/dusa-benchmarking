# Performance tests for Dusa

Collects performance testing for the Dusa language.

### Directories

- `asp/` contains any answer set programming code
- `data/` contains JSON blobs representing test data
- `results/` contains CSV outputs of automated tests

### Data

- `data/test-graphs-200-to-2000-edges.json` was generated by `generate-test-graphs-json.js`. It contains graphs with 200, 400, 600, ..., 2000 edges in five categories. Nodes are always specified as integers 0 <= i < numEdges, and edges always specified as the tuple `[n,m]` with `n < m`. Random graphs are generated by calculating the probability of an edge existing that makes getting exactly the right number of edges most likely... and then generating graphs until one has exactly the right number of edges:
  - `dense-near-complete` has _almost_ every edge, but it breaks out of the for loop enumerating edges early when exactly the desired number of edges shows up, unless there exists an integer number of vertices v such that v(v - 1)/ 2
  - `dense-random` has each edge existing with probability 0.25
  - `mid-random` has |V|^1.25 = |E|
  - `sparse-cycles` has two connected components shaped like eights
  - `sparse-linear` has every edge [n,n+1] except for one in the middle
  - `sparse-random` has |V| = 0.5|E|
  - `verysparse-random` has |V| = 1.3|E|
  - `verysparse-islands` has |V| = 1.2|E|

### Commands

- `node generate-test-graphs-json.js` - used to (re)generate the files in the data directory
- `node graph-tests.js > results/graph-tests.csv` - tests Dusa, Clingo, and Alpha on the creation of spanning trees and the appointment of canonical representatives

The `node graph-tests.js` benchmarker will grab Clingo data if `clingo` is on your path, and will grab Alpha data if `java` is on your path and a file `alpha.jar` (as suggested [here](https://github.com/alpha-asp/Alpha?tab=readme-ov-file#getting-started)) exists in the same directory as this README file.

## License

Contents of the `asp/` and `data/` directories and subdirectories are
MIT-licensed. All other code, including the Dusa implementation itself, is
licensed under the GNU General Public License v3.0 (see LICENSE).

Dusa is presently under the GPL is to make it easy for many people to use
the software while maintaining some ownership of software that took a
fair amount of time and expertise to develop. If the GPL is an issue for you
or your company but you'd like to use it, I'd be delighted to discuss
making that possible, and if you want to sponsor me to relicense Dusa
more permissively, I'd probably sell out pretty cheaply all things
considered, just sayin'. --- Rob
